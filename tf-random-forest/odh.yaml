apiVersion: opendatahub.io/v1alpha1
kind: OpenDataHub
metadata:
  name: tf-training-serving
spec:
  ai-library:
    odh_deploy: false
  aicoe-jupyterhub:
    db_memory: 1Gi
    deploy_all_notebooks: true
    gpu_mode: ""
    jupyterhub_memory: 1Gi
    notebook_cpu: 1
    notebook_image: s2i-minimal-notebook:3.6
    notebook_memory: 2Gi
    odh_deploy: true
    registry: quay.io
    repository: odh-jupyterhub
    s3_endpoint_url: ""
    spark_configmap_template: jupyterhub-spark-operator-configmap
    spark_cpu: 3
    spark_home: /opt/app-root/lib/python3.6/site-packages/pyspark/
    spark_image: quay.io/opendatahub/spark-cluster-image:spark22python36
    spark_master_nodes: 1
    spark_memory: 4Gi
    spark_pyspark_driver_python: jupyter
    spark_pyspark_driver_python_opts: notebook
    spark_pyspark_submit_args: --conf spark.cores.max=6 --conf spark.executor.instances=2
      --conf spark.executor.memory=3G --conf spark.executor.cores=3 --conf spark.driver.memory=4G
      --packages com.amazonaws:aws-java-sdk:1.7.4,org.apache.hadoop:hadoop-aws:2.7.3
      pyspark-shell
    spark_pythonpath: $PYTHONPATH:/opt/app-root/lib/python3.6/site-packages/:/opt/app-root/lib/python3.6/site-packages/pyspark/python/:/opt/app-root/lib/python3.6/site-packages/pyspark/python/lib/py4j-0.8.2.1-src.zip
    spark_worker_nodes: 2
    storage_class: ""
  beakerx:
    odh_deploy: false
  jupyter-on-openshift:
    extra_env_vars:
      S3_ACCESS_KEY: YOURS3ACCESSKEYHERE
      S3_ENDPOINT_URL: http://s3.foo.com:8000
      S3_SECRET_KEY: this1is2just3gibberish
    jupyterhub_config: |
      c.KubeSpawner.env_keep = ['S3_ENDPOINT_URL', 'S3_ACCESS_KEY', 'S3_SECRET_KEY']
    notebook_memory: 2Gi
    odh_deploy: false
  kafka:
    kafka_broker_replicas: 3
    kafka_cluster_name: odh-message-bus
    kafka_zookeeper_replicas: 3
    odh_deploy: false
  monitoring:
    odh_deploy: true
  seldon:
    odh_deploy: true
  spark-operator:
    master_cpu: 1
    master_memory: 1Gi
    master_node_count: 0
    odh_deploy: true
    worker_cpu: 2
    worker_memory: 2Gi
    worker_node_count: 0
